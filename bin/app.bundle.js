!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/bin/",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function nav(scenes){var hash=window.location.hash;if(hash)if(scenes[hash]){var s=scenes[hash];(0,_utils.play)(s)}else(0,_utils.printWarn)("No scene?");else window.location.hash="#1"}function main(){(0,_utils.printInfo)("running main. yess");var width=window.innerWidth,height=window.innerHeight,ctx=(0,_utils.updateCanvas)(width,height),scenes={"#1":(0,_scenes.getScene1)(ctx,width,height),"#2":(0,_scenes.getScene2)(ctx,width,height),"#3":(0,_scenes.getScene3)(ctx,width,height),"#4":(0,_scenes.getScene4)(ctx,width,height),"#5":(0,_scenes.getScene5)(ctx,width,height),"#6":(0,_scenes.getScene6)(ctx,width,height)};nav(scenes),window.onhashchange=function(){(0,_utils.printInfo)("hash change"),nav(scenes)}}var _utils=__webpack_require__(1),_scenes=__webpack_require__(2);window.onresize=function(){(0,_utils.printInfo)("resize"),main()},main()},function(module,exports){"use strict";function printInfo(){for(var s="",_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.log(s)}function printWarn(){for(var s="",_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.warn(s)}function updateCanvas(width,height){var canvasStr='<canvas width="'+width+'" height="'+height+'" id="drawing"></canvas>';document.getElementById("box").innerHTML=canvasStr;var canvas=document.getElementById("drawing"),ctx=canvas.getContext("2d");return ctx}function animloop(f){window.sceneAnim=requestAnimationFrame(function(){return animloop(f)}),f()}function play(s){var narativeDiv=document.getElementById(NARATIVE);narativeDiv.innerHTML=s.narative,window.sceneAnim&&(cancelAnimationFrame(window.sceneAnim),window.sceneAnim=void 0),animloop(s.scene)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.printInfo=printInfo,exports.printWarn=printWarn,exports.updateCanvas=updateCanvas,exports.play=play;var NARATIVE="narative";!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}()},function(module,exports,__webpack_require__){"use strict";function getScene1(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,itt%frames===0&&(path1=path2,path2=(0,_random.getRndYLinspaceX)(num,xMin,xMax,yMin,yMax));for(var path=[],i=0;i<num;i++){var y1=path1[i].y,y2=path2[i].y;path.push({x:path1[i].x,y:y1+Math.sin(itt%frames/frames*HPI)*(y2-y1)})}(0,_draw.drawPathDots)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 1");var str="Nodes oscillate randomly around the middle",narative=str+' <a class="next" href="#2">Next</a>';ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.lineWidth=LINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/10),dotSize=3,frames=30,path1=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),path2=(0,_random.getRndYLinspaceX)(num,xMin,xMax,yMin,yMax),itt=0;return{scene:scene,narative:narative}}function getScene2(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,path=(0,_random.permuteY)(path,noise),(0,_draw.drawPathDots)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 2");var str="Nodes oscillate randomly around their previous position.",narative='<a class="prev" href="#1">Back</a> '+str+' <a class="next" href="#3">Next</a>';ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/10),dotSize=3,noise=1,path=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),itt=0;return{scene:scene,narative:narative}}function getScene3(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_random.permute)(velocity,noise),path=path.map(function(_ref,i){var x=_ref.x,y=_ref.y;return{x:x,y:(0,_random.limit)(y+velocity[i],yMax,yMin)}}),(0,_draw.drawPathDots)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 3");var str="Nodes have a velocity. The velocity changes randomly with small increments.",narative='<a class="prev" href="#2">Back</a> '+str+' <a class="next" href="#4">Next</a>';ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/10),dotSize=3,noise=.1,path=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),velocity=(0,_random.getNs)(num,0),itt=0;return{scene:scene,narative:narative}}function getScene4(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_random.permute)(velocity,noise);var s=0;path=path.map(function(_ref2,i){var x=_ref2.x,y=_ref2.y;return s+=velocity[i],{x:x,y:(0,_random.limit)(y+s,yMax,yMin)}}),(0,_draw.drawPathDots)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 4");var str="The velocity changes more when a node is further to the right.",narative='<a class="prev" href="#3">Back</a> '+str+' <a class="next" href="#5">Next</a>';ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/10),dotSize=3,noise=.1,path=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),velocity=(0,_random.getNs)(num,0),itt=0;return{scene:scene,narative:narative}}function getScene5(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_random.permute)(velocity,noise);var s=0;path=path.map(function(_ref3,i){var x=_ref3.x,y=_ref3.y;return s+=velocity[i],{x:x,y:(0,_random.limit)(y+s,yMax,yMin)}}),(0,_draw.drawPath)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 5");var str="Now we add more nodes.",narative='<a class="prev" href="#4">Back</a> '+str+' <a class="next" href="#6">Next</a>';ctx.strokeStyle=LINEWIDTH,ctx.fillStyle=WHITE,ctx.lineWidth=THINLINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/4),dotSize=3,noise=.01,path=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),velocity=(0,_random.getNs)(num,0),itt=0;return{scene:scene,narative:narative}}function getScene6(ctx,width,height){function scene(){itt+=1,1===itt&&(ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY),velocity=(0,_random.permute)(velocity,noise);var s=0;path=path.map(function(_ref4,i){var x=_ref4.x,y=_ref4.y;return s+=velocity[i],{x:x,y:(0,_random.limit)(y+s,yMax,yMin)}}),(0,_draw.drawPath)(ctx,path,dotSize)}(0,_utils.printInfo)("making scene 6");var str="Expose.",narative='<a class="prev" href="#5">Back</a> '+str;ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=THINLINEWIDTH;var edgeX=5*width/100,edgeY=20*height/100,xMin=edgeX,xMax=width-edgeX,yMin=edgeY,yMax=height-edgeY,yMid=.5*(yMax+yMin),num=Math.floor(width/4),dotSize=3,noise=.01,path=(0,_random.getLinspaceYLinspaceX)(num,xMin,xMax,yMid,yMid),velocity=(0,_random.getNs)(num,0),itt=0;return{scene:scene,narative:narative}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getScene1=getScene1,exports.getScene2=getScene2,exports.getScene3=getScene3,exports.getScene4=getScene4,exports.getScene5=getScene5,exports.getScene6=getScene6;var _random=__webpack_require__(3),_utils=__webpack_require__(1),_draw=__webpack_require__(4),HPI=(Math.PI,2*Math.PI,.5*Math.PI),WHITE="rgba(255, 255, 255, 1.0)",GRAY="rgba(0, 0, 0, 0.6)",LINEWIDTH=2,THINLINEWIDTH=1},function(module,exports,__webpack_require__){"use strict";function getNs(n,v){for(var res=[],i=0;i<n;i++)res.push(v);return res}function getRnd(n,min,max){for(var res=[],i=0;i<n;i++)res.push(min+Math.random()*(max-min));return res}function getRndYLinspaceX(n,xMin,xMax,yMin,yMax){for(var res=[],s=(xMax-xMin)/n,x=xMin,i=0;i<n;i++)res.push({x:x,y:yMin+Math.random()*(yMax-yMin)}),x+=s;return res}function getLinspaceYLinspaceX(n,xMin,xMax,yMin,yMax){for(var res=[],sX=(xMax-xMin)/n,sY=(yMax-yMin)/n,x=xMin,y=yMin,i=0;i<n;i++)res.push({x:x,y:y}),x+=sX,y+=sY;return res}function permuteY(path,noise){var newPath=path.map(function(_ref){var x=_ref.x,y=_ref.y,rnd=(1-2*Math.random())*noise;return{x:x,y:y+rnd}});return newPath}function permute(arr,noise){var newArr=arr.map(function(v){var rnd=(1-2*Math.random())*noise;return v+rnd});return newArr}function limit(v,ma,mi){return Math.max(Math.min(v,ma),mi)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNs=getNs,exports.getRnd=getRnd,exports.getRndYLinspaceX=getRndYLinspaceX,exports.getLinspaceYLinspaceX=getLinspaceYLinspaceX,exports.permuteY=permuteY,exports.permute=permute,exports.limit=limit;__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function drawPath(ctx,p){ctx.beginPath(),ctx.moveTo(p[0].x,p[0].y);for(var i=1;i<p.length;i++)ctx.lineTo(p[i].x,p[i].y);ctx.stroke()}function drawPathDots(ctx,p,rad){for(var num=1,i=1;i<p.length;i++){for(var x2=p[i].x,y2=p[i].y,x1=p[i-1].x,y1=p[i-1].y,k=0;k<num;k++)ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke();ctx.beginPath(),ctx.arc(p[i].x,p[i].y,rad,0,TWOPI),ctx.fill()}}function clear(ctx,width,height){ctx.beginPath(),ctx.rect(0,0,width,height),ctx.fill()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawPath=drawPath,exports.drawPathDots=drawPathDots,exports.clear=clear;var TWOPI=(__webpack_require__(1),Math.PI,2*Math.PI);.5*Math.PI}]);