!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function main(){(0,_utils.printInfo)("running main. yess");var cs=(0,_utils.getCanvasSize)(),story={introduction:scene.getSceneUniformSingle,multiple:scene.getSceneUniformMulti,memory:scene.getSceneUniformLocal,velocity:scene.getSceneUniformVel,"sums-of-velocities":scene.getSceneXVel,"more-nodes-again":scene.getSceneXVelHigh,history:scene.getSceneXVelExpose};Object.keys(story).forEach(function(sceneName){(0,_utils.printInfo)("updating: "+sceneName),(0,_utils.updateAndStartCanvas)(cs.width,cs.height,sceneName,story[sceneName])})}__webpack_require__(1);var _utils=__webpack_require__(3),_scenes=__webpack_require__(4),scene=_interopRequireWildcard(_scenes);main()},function(module,exports){},,function(module,exports){"use strict";function printInfo(){for(var s="",_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.log(s)}function printWarn(){for(var s="",_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];for(var i=0;i<args.length;i++)s=s+" "+JSON.stringify(args[i]);console.warn(s)}function updateAndStartCanvas(width,height,name,getScene){var canvasId="canvas-"+name,containerId="container-"+name,canvasStr='<canvas width="'+width+'" height="'+height+'"\n  class="drawing" id="'+canvasId+'"></canvas>',container=document.getElementById(containerId);container.innerHTML=canvasStr;var canvas=document.getElementById(canvasId),ctx=canvas.getContext("2d"),scene=getScene(ctx,width,height);window.drawings||(window.drawings={}),window.addEventListener&&(printInfo("addEventListener"),window.addEventListener("scroll",function(){var inView=isInViewport(container),animId=window.drawings[canvasId];inView?animId||(printInfo("starting: ",canvasId),animloop(scene,canvasId)):animId&&(printInfo("stopping: ",canvasId),cancelAnimationFrame(animId),window.drawings[canvasId]=void 0)},!1))}function animloop(f,canvasId){window.drawings[canvasId]=requestAnimationFrame(function(){return animloop(f,canvasId)}),f()}function getCanvasSize(){var width=Math.max(window.innerWidth,320),height=Math.max(.6*window.innerHeight,400);return{width:width,height:height}}function isInViewport(element){var rect=element.getBoundingClientRect(),html=document.documentElement,bottom=rect.bottom,top=rect.top,mid=.5*(bottom+top);return mid>0&&mid<(window.innerHeight||html.clientHeight)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.printInfo=printInfo,exports.printWarn=printWarn,exports.updateAndStartCanvas=updateAndStartCanvas,exports.animloop=animloop,exports.getCanvasSize=getCanvasSize,exports.isInViewport=isInViewport,function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}()},function(module,exports,__webpack_require__){"use strict";function getBoundary(width,height){var edgeX=5*width/100,edgeTopY=.2*height,edgeBottomY=.2*height,xMin=edgeX,xMax=width-edgeX,yMin=edgeTopY,yMax=height-edgeBottomY,yMid=.5*(yMax+yMin),xMid=.5*(xMax+xMin);return{xMin:xMin,xMax:xMax,yMin:yMin,yMax:yMax,yMid:yMid,xMid:xMid}}function getSceneUniformSingle(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,itt%frames===0&&(path1=path2,path2=(0,_array.getRndYLinspaceX)(num,boundary.xMid,boundary.xMid,boundary.yMin,boundary.yMax));var path=[],y1=path1[0].y,y2=path2[0].y;path.push({x:path1[0].x,y:y1+Math.sin(itt%frames/frames*HPI)*(y2-y1)}),(0,_draw.drawDots)(ctx,path,dotSize,!0),(0,_draw.drawDots)(ctx,path2,dotSize,!1)}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.lineWidth=LINEWIDTH;var boundary=getBoundary(width,height),num=1,dotSize=20,frames=30,path1=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMid,boundary.xMid,boundary.yMid,boundary.yMid),path2=(0,_array.getRndYLinspaceX)(num,boundary.xMid,boundary.xMid,boundary.yMin,boundary.yMax),itt=0;return scene}function getSceneUniformMulti(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,itt%frames===0&&(path1=path2,path2=(0,_array.getRndYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMin,boundary.yMax));for(var path=[],i=0;i<num;i++){var y1=path1[i].y,y2=path2[i].y;path.push({x:path1[i].x,y:y1+Math.sin(itt%frames/frames*HPI)*(y2-y1)})}(0,_draw.drawDots)(ctx,path,dotSize,!0),(0,_draw.drawDots)(ctx,path2,dotSize,!1)}ctx.strokeStyle=GRAY,ctx.fillStyle=GRAY,ctx.lineWidth=LINEWIDTH;var boundary=getBoundary(width,height),num=Math.floor(width/20),dotSize=4,frames=60,path1=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),path2=(0,_array.getRndYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMin,boundary.yMax),itt=0;return scene}function getSceneUniformLocal(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,path=(0,_array.permuteY)(path,noise),(0,_draw.drawDots)(ctx,path,dotSize,!0)}ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var boundary=getBoundary(width,height),num=Math.floor(width/20),dotSize=4,noise=2,path=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid);return scene}function getSceneUniformVel(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_array.permute)(velocity,noise),path=path.map(function(_ref,i){var x=_ref.x,y=_ref.y;return{x:x,y:(0,_array.limit)(y+velocity[i],boundary.yMax,boundary.yMin)}}),velocity.forEach(function(v,i){ctx.beginPath(),ctx.moveTo(path[i].x,path[i].y),ctx.lineTo(path[i].x,path[i].y+20*velocity[i]),ctx.stroke()}),(0,_draw.drawDots)(ctx,path,dotSize,!0)}ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var boundary=getBoundary(width,height),num=Math.floor(width/20),dotSize=4,noise=.1,path=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),velocity=(0,_array.getNs)(num,0);return scene}function getSceneXVel(ctx,width,height){function scene(){ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_array.permute)(velocity,noise);var s=0;path=path.map(function(_ref2,i){var x=_ref2.x,y=_ref2.y;return s+=velocity[i],{x:x,y:(0,_array.limit)(y+s,boundary.yMax,boundary.yMin)}}),s=0,velocity.forEach(function(v,i){s+=velocity[i],ctx.beginPath(),ctx.moveTo(path[i].x,path[i].y),ctx.lineTo(path[i].x,path[i].y+30*s),ctx.stroke()}),(0,_draw.drawDots)(ctx,path,dotSize,!0)}ctx.strokeStyle=GRAY,ctx.fillStyle=WHITE,ctx.lineWidth=LINEWIDTH;var boundary=getBoundary(width,height),num=Math.floor(width/20),dotSize=4,noise=.01,path=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),velocity=(0,_array.getNs)(num,0);return scene}function getSceneXVelHigh(ctx,width,height){function scene(){itt+=1,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.fillStyle=GRAY,velocity=(0,_array.permute)(velocity,noise);var s=0;path=path.map(function(_ref3,i){var x=_ref3.x,y=_ref3.y;return s+=velocity[i],{x:x,y:(0,_array.limit)(y+s,boundary.yMax,boundary.yMin)}}),s=0,velocity.forEach(function(v,i){s+=velocity[i],ctx.beginPath(),ctx.moveTo(path[i].x,path[i].y),ctx.lineTo(path[i].x,path[i].y+40*s),ctx.stroke()}),(0,_draw.drawDots)(ctx,path,dotSize,!0)}ctx.strokeStyle=LINEWIDTH,ctx.fillStyle=WHITE,ctx.lineWidth=THINLINEWIDTH;var boundary=getBoundary(width,height),num=Math.floor(width/4),dotSize=3,noise=.005,path=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),velocity=(0,_array.getNs)(num,0),itt=0;return scene}function getSceneXVelExpose(ctx,width,height){function scene(){velocity=(0,_array.permute)(velocity,noise);var s=0;path=path.map(function(_ref4,i){var x=_ref4.x,y=_ref4.y;return s+=velocity[i],{x:x,y:(0,_array.limit)(y+s,boundary.yMax,boundary.yMin)}}),(0,_draw.drawDots)(ctx,path,dotSize,!0)}ctx.lineWidth=THINLINEWIDTH,ctx.fillStyle=WHITE,(0,_draw.clear)(ctx,width,height),ctx.strokeStyle=GRAY,ctx.fillStyle="rgba(0,0,0,0.05)";var boundary=getBoundary(width,height),num=Math.floor(width),dotSize=1,noise=.01,path=(0,_array.getLinspaceYLinspaceX)(num,boundary.xMin,boundary.xMax,boundary.yMid,boundary.yMid),velocity=(0,_array.getNs)(num,0);return scene}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSceneUniformSingle=getSceneUniformSingle,exports.getSceneUniformMulti=getSceneUniformMulti,exports.getSceneUniformLocal=getSceneUniformLocal,exports.getSceneUniformVel=getSceneUniformVel,exports.getSceneXVel=getSceneXVel,exports.getSceneXVelHigh=getSceneXVelHigh,exports.getSceneXVelExpose=getSceneXVelExpose;var _array=__webpack_require__(5),_draw=(__webpack_require__(3),__webpack_require__(6)),HPI=(Math.PI,2*Math.PI,.5*Math.PI),WHITE="rgba(255, 255, 255, 1.0)",GRAY="rgba(0, 0, 0, 0.6)",LINEWIDTH=2,THINLINEWIDTH=1},function(module,exports,__webpack_require__){"use strict";function getNs(n,v){for(var res=[],i=0;i<n;i++)res.push(v);return res}function getRnd(n,min,max){for(var res=[],i=0;i<n;i++)res.push(min+Math.random()*(max-min));return res}function getRndYLinspaceX(n,xMin,xMax,yMin,yMax){for(var res=[],s=(xMax-xMin)/n,x=xMin,i=0;i<n;i++)res.push({x:x,y:yMin+Math.random()*(yMax-yMin)}),x+=s;return res}function getLinspaceYLinspaceX(n,xMin,xMax,yMin,yMax){for(var res=[],sX=(xMax-xMin)/n,sY=(yMax-yMin)/n,x=xMin,y=yMin,i=0;i<n;i++)res.push({x:x,y:y}),x+=sX,y+=sY;return res}function permuteY(path,noise){var newPath=path.map(function(_ref){var x=_ref.x,y=_ref.y,rnd=(1-2*Math.random())*noise;return{x:x,y:y+rnd}});return newPath}function permute(arr,noise){var newArr=arr.map(function(v){var rnd=(1-2*Math.random())*noise;return v+rnd});return newArr}function limit(v,ma,mi){return Math.max(Math.min(v,ma),mi)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNs=getNs,exports.getRnd=getRnd,exports.getRndYLinspaceX=getRndYLinspaceX,exports.getLinspaceYLinspaceX=getLinspaceYLinspaceX,exports.permuteY=permuteY,exports.permute=permute,exports.limit=limit;__webpack_require__(3)},function(module,exports,__webpack_require__){"use strict";function drawPath(ctx,p){ctx.beginPath(),ctx.moveTo(p[0].x,p[0].y);for(var i=1;i<p.length;i++)ctx.lineTo(p[i].x,p[i].y);ctx.stroke()}function drawDots(ctx,p,rad,fill){for(var i=0;i<p.length;i++){var x=p[i].x,y=p[i].y;ctx.beginPath(),ctx.arc(x,y,rad,0,TWOPI),fill?ctx.fill():ctx.stroke()}}function drawPathDots(ctx,p,rad){for(var num=1,i=1;i<p.length;i++){for(var x2=p[i].x,y2=p[i].y,x1=p[i-1].x,y1=p[i-1].y,k=0;k<num;k++)ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke();ctx.beginPath(),ctx.arc(p[i].x,p[i].y,rad,0,TWOPI),ctx.fill()}}function clear(ctx,width,height){ctx.beginPath(),ctx.rect(0,0,width,height),ctx.fill()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawPath=drawPath,exports.drawDots=drawDots,exports.drawPathDots=drawPathDots,exports.clear=clear;var TWOPI=(__webpack_require__(3),Math.PI,2*Math.PI);.5*Math.PI}]);